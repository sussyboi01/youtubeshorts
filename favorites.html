<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Favorites</title>
<link rel="icon" href="https://gstatic.com/docs/presentations/images/presentations_logo144.png" type="image/png">
<style>
  body { margin:0; font-family:Inter,Arial,Helvetica; background:#0b0b0b; color:#fff; padding:18px; }
  .top { display:flex; gap:12px; align-items:center; margin-bottom:10px; }
  button { padding:8px 12px; border-radius:8px; cursor:pointer; border:none; background:#111; color:#fff; }
  .grid { display:grid; grid-template-columns:repeat(auto-fill,minmax(200px,1fr)); gap:12px; }
  .tile { background:#0a0a0a; border-radius:10px; padding:6px; }
  .tile iframe { width:100%; height:140px; border-radius:8px; border:none; background:#000; }
</style>
</head>
<body>
  <div class="top">
    <button onclick="location.href='index.html'">Back</button>
    <h2 style="margin:0 0 0 10px">Favorites</h2>
  </div>

  <div id="grid" class="grid"></div>

<script>
function getFavs(){ try{ return JSON.parse(localStorage.getItem('favshorts')||'[]'); }catch(e){ return []; } }
const grid = document.getElementById('grid');

const favs = getFavs();
if(favs.length===0){
  grid.innerHTML = '<p>No favorites yet. ❤️</p>';
} else {
  favs.forEach(id => {
    const tile = document.createElement('div');
    tile.className = 'tile';
    tile.innerHTML = `
      <iframe src="https://www.youtube.com/embed/${id}?rel=0&modestbranding=1&playsinline=1" allow="autoplay; encrypted-media" loading="lazy"></iframe>
      <div style="display:flex; gap:8px; margin-top:8px;">
        <button onclick="playVideo('${id}')">Play</button>
        <button onclick="removeFav('${id}', this)">Remove</button>
      </div>
    `;
    grid.appendChild(tile);
  });
}

function playVideo(id){
  // open in new window or open in a minimal player — for simplicity, open new tab
  window.open(`https://www.youtube.com/watch?v=${id}`, '_blank');
}

function removeFav(id, btn){
  let favs = getFavs();
  favs = favs.filter(x=> x!==id);
  localStorage.setItem('favorites', JSON.stringify(favs));
  // remove tile visually
  btn.closest('.tile').remove();
  if(document.querySelectorAll('.tile').length===0) grid.innerHTML = '<p>No favorites yet. ❤️</p>';
}
</script>
</body>
</html>
